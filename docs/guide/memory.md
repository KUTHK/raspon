# メモリの区分

冒頭: どこに何が置かれるか分かれば、領域の上書きなどのバグを避けられる。

## 簡単（初心者向け）

- program(.init/.text) は命令、data(.data) は変数、stack は一時領域、I/O は周辺装置。

## 普通（上級者向け）

### セクションと配置

- `.init` は 0x8000 に配置、`_start` から実行。
- `.text`/`.rodata`/`.data`/`.bss` の役割と初期化有無。

### アドレス空間とI/O

- BCM283x の周辺は SoC によりベースが異なるが、Raspberry Pi 3 では 0x3F00_0000 領域（例: GPIO_BASE=0x3F20_0000）。
- メモリマップドI/Oは通常の `ldr/str` でアクセスし、必要に応じてバリア（`dsb`）で順序性を担保。

### スタックと整列

- 下方向成長。8バイト境界を維持。ワード/ハーフ/バイトの整列とアクセスコストに注意。

まとめ: セクションの役割と配置、周辺I/Oのアドレス空間、スタック整列は明確に区別されている。
